<top-navbar></top-navbar>
<p-confirmPopup></p-confirmPopup>
<div class="container" style="margin-top: 15vh;">
    <div class="row">
        <div class="col-4 my-4" *ngFor="let mat of materials">
            <div class="card mb-3 h-100" style="max-width: 18rem;">
                <div class="card-body">
                  <h5 class="card-title">{{mat?.name}}</h5>
                  <p class="card-text">Price: {{mat?.price}}</p>
                  <p class="card-text">Stock: {{mat?.stock}}</p>
                  <p class="card-text">{{mat?.desc}}</p>
                        <!-- <a class="btn btn-primary m-2"><i class="fa fa-trash"></i></a> -->
                        <a (click)="showDialogMat(mat)" class="btn btn-success m-2"><i class="fa fa-pencil"></i></a>
                        <a (click)="confirm($event,mat.mid)" class="btn btn-danger m-2"><i class="fa fa-trash"></i></a>
                </div>
              </div>
        </div>
         <div class="col-4 text-center">
            <div class=" mb-3 h-100" style="max-width: 18rem;">
                <div class="card-body mt-5">
                        <a (click)="showDialog()" class="btn m-2 rounded-circle"><i class="p-3 fa fa-plus" style="font-size: 1.5rem;"></i></a>
                </div>
              </div>
        </div>
    </div>
</div>
<p-dialog header="Add Material" [(visible)]="display" [position]="'Left'" [modal]="true" [style]="{width: '20vw'}" [baseZIndex]="10000"
    [draggable]="false" [resizable]="false">
    <hr>
<div>
    <p style="color: red;" *ngIf="showErr">Please Fill out all fields</p>
    <div class="row">
        <div class="col mx-auto">
            <div class="p-fluid">
                <div class="p-field p-grid">
                    <label for="firstname" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0">Material Name</label>
                    <div class="p-col-12 p-md-10">
                        <input placeholder="Name" [(ngModel)]="material.name" name="material.name" id="firstname" type="text" pInputText required> 
                    </div>
                </div>
                <div class="p-field p-grid">
                    <label for="lastname" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0">Price (Per Kg)</label>
                    <div class="p-col-12 p-md-10">
                        <input placeholder="0.0" [(ngModel)]="material.price" name="material.price" type="number" pInputText required> 
                    </div>
                </div>  
                <div class="p-field p-grid">
                    <label for="lastname" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0">Stock (Per Kg)</label>
                    <div class="p-col-12 p-md-10">
                        <input placeholder="0" [(ngModel)]="material.stock" name="material.stock" type="number" pInputText required> 
                    </div>
                </div>
                <div class="p-field p-grid">
                    <label for="lastname" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0">Description (100 words)</label>
                    <div class="p-col-12 p-md-10">
                        <textarea placeholder="Description" [(ngModel)]="material.desc" name="material.desc" type="text" pInputText></textarea> 
                    </div>
                </div>    
                <div class="mt-3 mx-auto">
                <button (click)="submitMaterial()" type="button" class="btn btn-primary">Submit</button>
            </div>
        </div>
            
        </div>
    </div>
</div>
</p-dialog>


<p-dialog header="Add Material" [(visible)]="displayMat" [position]="'Left'" [modal]="true" [style]="{width: '20vw'}" [baseZIndex]="10000"
    [draggable]="false" [resizable]="false">
    <hr>
<div>
    <p style="color: red;" *ngIf="showErr">Please Fill out all fields</p>
    <div class="row">
        <div class="col mx-auto">
            <div class="p-fluid">
                <div class="p-field p-grid">
                    <label for="firstname" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0">Material Name</label>
                    <div class="p-col-12 p-md-10">
                        <input placeholder="Name" [(ngModel)]="material.name" name="material.name" id="firstname" type="text" pInputText required> 
                    </div>
                </div>
                <div class="p-field p-grid">
                    <label for="lastname" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0">Price (Per Kg)</label>
                    <div class="p-col-12 p-md-10">
                        <input placeholder="0.0" [(ngModel)]="material.price" name="material.price" type="number" pInputText required> 
                    </div>
                </div>  
                <div class="p-field p-grid">
                    <label for="lastname" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0">Stock (Per Kg)</label>
                    <div class="p-col-12 p-md-10">
                        <input placeholder="0" [(ngModel)]="material.stock" name="material.stock" type="number" pInputText required> 
                    </div>
                </div>
                <div class="p-field p-grid">
                    <label for="lastname" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0">Description (100 words)</label>
                    <div class="p-col-12 p-md-10">
                        <textarea placeholder="Description" [(ngModel)]="material.desc" name="material.desc" type="text" pInputText></textarea> 
                    </div>
                </div>    
                <div class="mt-3 mx-auto">
                <button (click)="updateMat()" type="button" class="btn btn-primary">Update</button>
            </div>
        </div>
            
        </div>
    </div>
</div>
</p-dialog>